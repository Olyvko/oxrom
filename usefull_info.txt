
1.В начале каждого файла нужно указать строку, которая делает проверку - установленна ли константа BASEPATH
  в файле index.php - это делаеться чтобы нельзя было вызвать php-файл на прямую.

2.Если вы хотите использовать классы CodeIgniter внутри вашего собственного класса нужно в
  начале присвоить суперобъект CodeIgniter переменной с помощью функции get_instance().
  $CI =& get_instance();
  $CI->load->helper('url');